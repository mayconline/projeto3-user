<!--
  Generated template for the PontosPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Cadastro de Pontos</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>



<ion-grid>


    <ion-row>
        <ion-col col-12>
            <div padding>
                <ion-segment [(ngModel)]="pontos" color="primary" >
                  <ion-segment-button value="Inserir">
                      <ion-icon name="add-circle"></ion-icon>
                    Inserir Pontos
                  </ion-segment-button>
                  <ion-segment-button value="Historico">
                      <ion-icon name="list-box"></ion-icon>
                    Histórico
                  </ion-segment-button>
                </ion-segment>
              </div>

        </ion-col>
      </ion-row>
        
      <ion-row>
        <ion-col col-12>
            <div [ngSwitch]="pontos">

                <ion-list  *ngSwitchCase="'Inserir'">     
                  
                    

                  <h3>Selecione o Usuário</h3>
                  
  <ion-row>

      <ion-col col-12>
          <ion-searchbar (ionInput)="getItems($event)"  placeholder="Filtre pelo CPF"></ion-searchbar>
      </ion-col>
  </ion-row>

                    <ion-item-sliding *ngFor="let usuario of usuarios | async">  
                        <ion-item >

                            <ion-icon item-start item-content name="person-add"></ion-icon>

                            <h2>Usuario: {{usuario.name}}</h2> 
                            <p>CPF: {{usuario.cpf}}</p>
                            <p>{{usuario.pontos}} Pontos Atuais</p>
            
                            
                        </ion-item>
            
                        <ion-item-options side="left"> 
                           
                           <button ion-button color="primary" (click)="inserirPonto(usuario)">
                               <ion-icon name="create"> Inserir Pontos</ion-icon>
                           </button>
            
                         
                        </ion-item-options>
            
                   </ion-item-sliding>
            </ion-list>
            
              
                <ion-list *ngSwitchCase="'Historico'">
                  <h3>Histórico de Pontos</h3>



  <ion-row>

      <ion-col col-12>
          <ion-searchbar (ionInput)="getHist($event)"  placeholder="Filtre pelo CPF"></ion-searchbar>
      </ion-col>
  </ion-row>
                    <ion-item-sliding *ngFor="let nota of notas | async">  
                        <ion-item >
                            <ion-icon item-content item-start name="list-box"></ion-icon>
                            <h2>Id Nota: {{nota.nota}}</h2> 
                            <p>R$ {{nota.valor}}</p>
                            <p>Usuario: {{nota.NomeUser}}</p>
                            <p>CPF: {{nota.cpf}}</p>
                            <p>{{nota.quantPontos}} Pontos</p>
                            <p>Status: {{nota.status}}</p>  
                            
                        </ion-item>
            
            
                        <ion-item-options side="left"> 
                                    
                              <!--  <button ion-button color="primary" (click)="editarRecomp(recompensa)">
                                    <ion-icon name="create"> Editar</ion-icon>
                                </button> -->

                                

                                <button ion-button color="danger" (click)="removerPonto(nota.key)">
                                        <ion-icon name="trash"> Remover</ion-icon>
                                    </button>

                             </ion-item-options>
             

                             
            
            
                   </ion-item-sliding>
                  
                </ion-list>
              </div>
        

        </ion-col>
      </ion-row>

</ion-grid>


<!---->
   
   


  

</ion-content>
